
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as A}from"./index-eb967e6b.js";import{a as m}from"./config-5832de38.js";import{d as I,R as C,r as _,x as N,o as k,c as q,e,f as l,a as H,k as R,E as y,h as p,q as g}from"./index-614bd441.js";const j={class:"flex justify-between"},B=H("b",null,"虎皮椒支付参数设置",-1),E=I({__name:"hupijiao",setup(M){const a=C({payHupiStatus:"",payHupiAppId:"",payHupiSecret:"",payHupiNotifyUrl:"",payHupiReturnUrl:""}),b=_({payHupiStatus:[{required:!0,trigger:"change",message:"请选择当前支付开启状态"}],payHupiSecret:[{required:!0,trigger:"blur",message:"请填写支付秘钥"}],payHupiAppId:[{required:!0,trigger:"blur",message:"请填写Appid"}],payHupiNotifyUrl:[{required:!0,trigger:"blur",message:"请填写支付通知地址"}]}),d=_();async function c(){const u=await m.queryConfig({keys:["payHupiSecret","payHupiNotifyUrl","payHupiReturnUrl","payHupiAppId","payHupiStatus"]});Object.assign(a,u.data)}function x(){var u;(u=d.value)==null||u.validate(async t=>{if(t){try{await m.setConfig({settings:V(a)}),y.success("变更配置信息成功")}catch{}c()}else y.error("请填写完整信息")})}function V(u){return Object.keys(u).map(t=>({configKey:t,configVal:u[t]}))}return N(()=>{c()}),(u,t)=>{const f=p("el-alert"),S=A,U=p("el-button"),w=p("el-switch"),n=p("el-form-item"),r=p("el-col"),i=p("el-row"),s=p("el-input"),h=p("el-form"),v=p("el-card");return k(),q("div",null,[e(S,null,{default:l(()=>[e(f,{closable:!1,"show-icon":"",title:"虎皮椒支付参数说明",description:"虎皮椒支付为三方支付、接入请购买微信渠道、详细参数参照 https://www.xunhupay.com/ 目前优先开通微信支付渠道、同时开启开启多种支付、我们将优先按照菜单顺序调用、所有的支付通知地址统一为 https://域名/api/pay/notify 将域名修改为您的域名即可！",type:"success"})]),_:1}),e(v,{style:{margin:"20px"}},{header:l(()=>[H("div",j,[B,e(U,{class:"button",text:"",onClick:x},{default:l(()=>[R(" 保存设置 ")]),_:1})])]),default:l(()=>[e(h,{ref_key:"formRef",ref:d,rules:b.value,model:a,"label-width":"120px"},{default:l(()=>[e(i,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"启用当前支付",prop:"payHupiAppId"},{default:l(()=>[e(w,{modelValue:a.payHupiStatus,"onUpdate:modelValue":t[0]||(t[0]=o=>a.payHupiStatus=o),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"支付AppId",prop:"payHupiAppId"},{default:l(()=>[e(s,{modelValue:a.payHupiAppId,"onUpdate:modelValue":t[1]||(t[1]=o=>a.payHupiAppId=o),placeholder:"请填写AppId",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"Secret秘钥",prop:"payHupiSecret"},{default:l(()=>[e(s,{modelValue:a.payHupiSecret,"onUpdate:modelValue":t[2]||(t[2]=o=>a.payHupiSecret=o),placeholder:"请填写支付秘钥",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"支付通知地址",prop:"payHupiSecret"},{default:l(()=>[e(s,{modelValue:a.payHupiNotifyUrl,"onUpdate:modelValue":t[3]||(t[3]=o=>a.payHupiNotifyUrl=o),placeholder:"请填写支付通知地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(n,{label:"支付回调地址",prop:"payHupiSecret"},{default:l(()=>[e(s,{modelValue:a.payHupiReturnUrl,"onUpdate:modelValue":t[4]||(t[4]=o=>a.payHupiReturnUrl=o),placeholder:"请填写支付成功后的回跳地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof g=="function"&&g(E);export{E as default};
