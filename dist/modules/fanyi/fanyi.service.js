'use strict';function _0x540c(){const _0x520465=['post','__esModule','1343676BdlueY','BAD_REQUEST','default','2056QrZLXo','893052ugJQQl','FanyiService','11ifcRCW','当前管理员还未开放翻译服务、请联系管理员开通吧!','23706EZgjrg','convertToEnglish','globalConfigService','@nestjs/common','https://fanyi-api.baidu.com/api/trans/vip/translate','design:paramtypes','HttpException','7mVpmcC','length','getOwnPropertyDescriptor','digest','data','GlobalConfigService','application/x-www-form-urlencoded','update','auto','翻译失败[','588950VsVXki','__metadata','getConfigs','dst','createHash','Injectable','413629OKpwXO','18653520ukBxmQ','hex','1774470gdEiae','3PbBMnh','toString','metadata','defineProperty','decorate','object','HttpStatus','./../globalConfig/globalConfig.service','function'];_0x540c=function(){return _0x520465;};return _0x540c();}const _0x5b2043=_0x3189;(function(_0xad8a46,_0x582af5){const _0x40f512=_0x3189,_0x2bb8ec=_0xad8a46();while(!![]){try{const _0x203890=parseInt(_0x40f512(0xf0))/0x1+-parseInt(_0x40f512(0xd5))/0x2+parseInt(_0x40f512(0xf4))/0x3*(-parseInt(_0x40f512(0xd1))/0x4)+-parseInt(_0x40f512(0xea))/0x5+parseInt(_0x40f512(0xf3))/0x6*(-parseInt(_0x40f512(0xe0))/0x7)+-parseInt(_0x40f512(0xd4))/0x8*(parseInt(_0x40f512(0xd9))/0x9)+-parseInt(_0x40f512(0xf1))/0xa*(-parseInt(_0x40f512(0xd7))/0xb);if(_0x203890===_0x582af5)break;else _0x2bb8ec['push'](_0x2bb8ec['shift']());}catch(_0x512b97){_0x2bb8ec['push'](_0x2bb8ec['shift']());}}}(_0x540c,0x6322f));var __decorate=this&&this['__decorate']||function(_0x1909da,_0x66fb15,_0x2e428b,_0x2cdc16){const _0x1c6a38=_0x3189;var _0x2bd4bc=arguments[_0x1c6a38(0xe1)],_0x1358b4=_0x2bd4bc<0x3?_0x66fb15:_0x2cdc16===null?_0x2cdc16=Object[_0x1c6a38(0xe2)](_0x66fb15,_0x2e428b):_0x2cdc16,_0xe8d210;if(typeof Reflect===_0x1c6a38(0xf9)&&typeof Reflect[_0x1c6a38(0xf8)]===_0x1c6a38(0xfc))_0x1358b4=Reflect[_0x1c6a38(0xf8)](_0x1909da,_0x66fb15,_0x2e428b,_0x2cdc16);else{for(var _0x2a4145=_0x1909da[_0x1c6a38(0xe1)]-0x1;_0x2a4145>=0x0;_0x2a4145--)if(_0xe8d210=_0x1909da[_0x2a4145])_0x1358b4=(_0x2bd4bc<0x3?_0xe8d210(_0x1358b4):_0x2bd4bc>0x3?_0xe8d210(_0x66fb15,_0x2e428b,_0x1358b4):_0xe8d210(_0x66fb15,_0x2e428b))||_0x1358b4;}return _0x2bd4bc>0x3&&_0x1358b4&&Object[_0x1c6a38(0xf7)](_0x66fb15,_0x2e428b,_0x1358b4),_0x1358b4;},__metadata=this&&this[_0x5b2043(0xeb)]||function(_0x3a4335,_0x1019d4){const _0x19647c=_0x5b2043;if(typeof Reflect===_0x19647c(0xf9)&&typeof Reflect[_0x19647c(0xf6)]===_0x19647c(0xfc))return Reflect[_0x19647c(0xf6)](_0x3a4335,_0x1019d4);};Object[_0x5b2043(0xf7)](exports,_0x5b2043(0xfe),{'value':!![]}),exports[_0x5b2043(0xd6)]=void 0x0;const globalConfig_service_1=require(_0x5b2043(0xfb)),common_1=require(_0x5b2043(0xdc)),axios_1=require('axios'),crypto=require('crypto');let FanyiService=class FanyiService{constructor(_0x573a77){const _0x4aad08=_0x5b2043;this[_0x4aad08(0xdb)]=_0x573a77;}async[_0x5b2043(0xda)](_0x56fa87){const _0x34694c=_0x5b2043;if(!_0x56fa87)throw new common_1[(_0x34694c(0xdf))]('请输入要翻译的内容!',common_1[_0x34694c(0xfa)][_0x34694c(0xd2)]);const {baiduFanyiAppId:_0x3226f1,baiduFanyiSecret:_0x3ba86e}=await this[_0x34694c(0xdb)][_0x34694c(0xec)](['baiduFanyiAppId','baiduFanyiSecret']);if(!_0x3226f1||!_0x3ba86e)throw new common_1[(_0x34694c(0xdf))](_0x34694c(0xd8),common_1[_0x34694c(0xfa)]['BAD_REQUEST']);const _0x4d8df5=Date['now']()[_0x34694c(0xf5)](),_0x45d00e=crypto[_0x34694c(0xee)]('md5')[_0x34694c(0xe7)](_0x3226f1+_0x56fa87+_0x4d8df5+_0x3ba86e)[_0x34694c(0xe3)](_0x34694c(0xf2)),_0xa1b450=_0x34694c(0xdd),_0x18d716={'q':_0x56fa87[_0x34694c(0xf5)](),'from':_0x34694c(0xe8),'to':'en','appid':_0x3226f1,'salt':_0x4d8df5,'sign':_0x45d00e},_0x299353=await axios_1[_0x34694c(0xd3)][_0x34694c(0xfd)](_0xa1b450,_0x18d716,{'headers':{'Content-Type':_0x34694c(0xe6)}}),{from:_0x50154e,to:_0x7b3187,trans_result:_0x113288,error_code:_0x2594e1,error_msg:_0x253c37}=_0x299353[_0x34694c(0xe4)];if(_0x2594e1)throw new common_1[(_0x34694c(0xdf))](_0x34694c(0xe9)+_0x2594e1+']['+_0x253c37+']!',common_1[_0x34694c(0xfa)][_0x34694c(0xd2)]);if(!_0x113288||!_0x113288[_0x34694c(0xe1)])throw new common_1[(_0x34694c(0xdf))](_0x34694c(0xe9)+_0x2594e1+']['+_0x253c37+']!',common_1[_0x34694c(0xfa)][_0x34694c(0xd2)]);else return _0x113288[0x0][_0x34694c(0xed)];return _0x113288;}};function _0x3189(_0x2e5b13,_0x28311c){const _0x540ca9=_0x540c();return _0x3189=function(_0x318993,_0x1d54c4){_0x318993=_0x318993-0xd1;let _0x514a2a=_0x540ca9[_0x318993];return _0x514a2a;},_0x3189(_0x2e5b13,_0x28311c);}FanyiService=__decorate([(0x0,common_1[_0x5b2043(0xef)])(),__metadata(_0x5b2043(0xde),[globalConfig_service_1[_0x5b2043(0xe5)]])],FanyiService),exports[_0x5b2043(0xd6)]=FanyiService;