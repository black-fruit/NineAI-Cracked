'use strict';function _0x24c6(){const _0x2e4ae3=['length','baiduToken','\x0a\x20\x20<script>\x0a\x20\x20var\x20_hmt\x20=\x20_hmt\x20||\x20[];\x0a\x20\x20(function()\x20{\x0a\x20\x20\x20\x20var\x20hm\x20=\x20document.createElement(\x22script\x22);\x0a\x20\x20\x20\x20hm.src\x20=\x20\x22https://hm.baidu.com/hm.js?cb8c9a3bcadbc200e950b05f9c61a385\x22;\x0a\x20\x20\x20\x20var\x20s\x20=\x20document.getElementsByTagName(\x22script\x22)[0];\x0a\x20\x20\x20\x20s.parentNode.insertBefore(hm,\x20s);\x0a\x20\x20})();\x0a\x20\x20</script>\x0a','123456','function','siteName','1188016PGaevl','registerVerifyExpir','inviteGiveSendModel4Count','NineTeam团队账号激活成功','invitedGuestSendDrawMjCount','robotAvatar',']、初始密码为[','121.a1600b9b60910feea2ef627ea9776a6f.YGP_CWCOA2lNcIGJ27BwXGxa6nZhBQyLUS4XVaD.TWt9TA','insertId','nine-super','创建默认网站配置失败！',',请妥善保管您的账号，我们将为您赠送50次对话额度和5次绘画额度、祝您使用愉快','checkSiteBaseConfig','encry','defaultAdmin@cooper.com','connection','6WCmoAx','createBaseSiteConfig','buyCramiAddress','42080mCUqRk','inviteGiveSendModel3Count','1008432rGWXSb','182zXZAyK','firstRregisterSendDrawMjCount','1878txWCsQ','qqNumber','1242NXrjOI','object','onModuleInit','创建默认超级管理员失败！','1800','replace','INTERNAL_SERVER_ERROR','bcryptjs','count','INSERT\x20INTO\x20balance\x20(userId,\x20balance,\x20usesLeft,\x20paintCount)\x20VALUES\x20(\x27','__decorate','23425pxhPjc','configKey','registerFailEmailTeamName','userDefautlAvatar','vxNumber','inviteGiveSendDrawMjCount','50677CqeWZl','hashSync','query','NineTeam团队账号验证','createDefaultUser','用户成功、用户名为[','firstRegisterSendStatus','\x0a\x20\x20SELECT\x20COUNT(*)\x20AS\x20count\x20FROM\x20config\x20WHERE\x20`configKey`\x20IN\x20(','19024441','openaiBaseUrl','registerSuccessEmaileAppend','metadata','admin','registerSuccessEmailTitle','registerFailEmailTitle','join','getOwnPropertyDescriptor','map','invitedGuestSendModel4Count','decorate','firstRregisterSendModel3Count','3288wdoOhG','registerSendModel3Count','checkSuperAdmin','baiduSiteId','inviteSendStatus','defineProperty','noticeInfo','840814166','registerVerifyEmailTitle','error:\x20','@nestjs/common','registerVerifyEmailDesc','HttpStatus','design:paramtypes','https://public-1300678944.cos.ap-shanghai.myqcloud.com/blog/1682571295452image.png','log',']\x20==============>\x20请注意查阅','欢迎使用Nine\x20Team团队的产品服务,请在五分钟内完成你的账号激活,点击以下按钮激活您的账号，','初始化创建','\x27,\x20\x27','invitedGuestSendModel3Count','__metadata','INSERT\x20INTO\x20users\x20(username,\x20password,\x20status,\x20email,\x20role)\x20VALUES\x20(\x27','NineTeam团队','baiduCode','super','DatabaseService','HttpException','typeorm','20gZtbOX','初始化网站配置信息成功、如您需要修改网站配置信息，请前往管理系统系统配置设置\x20==============>\x20请注意查阅','958844odIHBb','\x27,\x200,\x201000,\x20100)','default@cooper.com'];_0x24c6=function(){return _0x2e4ae3;};return _0x24c6();}const _0x1d5a86=_0x523f;(function(_0x42e677,_0x494f6f){const _0x9f1916=_0x523f,_0x26feee=_0x42e677();while(!![]){try{const _0x1056b4=parseInt(_0x9f1916(0x111))/0x1+-parseInt(_0x9f1916(0xf3))/0x2*(parseInt(_0x9f1916(0x10c))/0x3)+-parseInt(_0x9f1916(0xf1))/0x4*(parseInt(_0x9f1916(0x121))/0x5)+-parseInt(_0x9f1916(0x114))/0x6*(parseInt(_0x9f1916(0x112))/0x7)+-parseInt(_0x9f1916(0xfc))/0x8+parseInt(_0x9f1916(0x116))/0x9*(-parseInt(_0x9f1916(0x10f))/0xa)+-parseInt(_0x9f1916(0x127))/0xb*(-parseInt(_0x9f1916(0xd4))/0xc);if(_0x1056b4===_0x494f6f)break;else _0x26feee['push'](_0x26feee['shift']());}catch(_0x1abffe){_0x26feee['push'](_0x26feee['shift']());}}}(_0x24c6,0x868e1));function _0x523f(_0x2730ae,_0x584d0f){const _0x24c639=_0x24c6();return _0x523f=function(_0x523fbe,_0x2896e0){_0x523fbe=_0x523fbe-0xc7;let _0x39a7d1=_0x24c639[_0x523fbe];return _0x39a7d1;},_0x523f(_0x2730ae,_0x584d0f);}var __decorate=this&&this[_0x1d5a86(0x120)]||function(_0x90b129,_0x4465c0,_0xb28d18,_0x3e2396){const _0x15679b=_0x1d5a86;var _0x4fe53f=arguments['length'],_0x3adeb0=_0x4fe53f<0x3?_0x4465c0:_0x3e2396===null?_0x3e2396=Object[_0x15679b(0xcf)](_0x4465c0,_0xb28d18):_0x3e2396,_0x2f1625;if(typeof Reflect===_0x15679b(0x117)&&typeof Reflect[_0x15679b(0xd2)]==='function')_0x3adeb0=Reflect[_0x15679b(0xd2)](_0x90b129,_0x4465c0,_0xb28d18,_0x3e2396);else{for(var _0x5885d2=_0x90b129[_0x15679b(0xf6)]-0x1;_0x5885d2>=0x0;_0x5885d2--)if(_0x2f1625=_0x90b129[_0x5885d2])_0x3adeb0=(_0x4fe53f<0x3?_0x2f1625(_0x3adeb0):_0x4fe53f>0x3?_0x2f1625(_0x4465c0,_0xb28d18,_0x3adeb0):_0x2f1625(_0x4465c0,_0xb28d18))||_0x3adeb0;}return _0x4fe53f>0x3&&_0x3adeb0&&Object[_0x15679b(0xd9)](_0x4465c0,_0xb28d18,_0x3adeb0),_0x3adeb0;},__metadata=this&&this[_0x1d5a86(0xe9)]||function(_0x176fdd,_0x2ba263){const _0x5b79c1=_0x1d5a86;if(typeof Reflect===_0x5b79c1(0x117)&&typeof Reflect['metadata']===_0x5b79c1(0xfa))return Reflect[_0x5b79c1(0xca)](_0x176fdd,_0x2ba263);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0x1d5a86(0xee)]=void 0x0;const common_1=require(_0x1d5a86(0xde)),typeorm_1=require(_0x1d5a86(0xf0)),bcrypt=require(_0x1d5a86(0x11d));let DatabaseService=class DatabaseService{constructor(_0x22b631){this['connection']=_0x22b631;}async[_0x1d5a86(0x118)](){const _0x1acf44=_0x1d5a86;await this[_0x1acf44(0xd6)](),await this[_0x1acf44(0x108)]();}async[_0x1d5a86(0xd6)](){const _0x1cbee7=_0x1d5a86,_0x315463=await this[_0x1cbee7(0x10b)][_0x1cbee7(0x129)]('SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27super\x27');if(!_0x315463||_0x315463[_0x1cbee7(0xf6)]===0x0){const _0x151e5b=bcrypt[_0x1cbee7(0x128)](_0x1cbee7(0x105),0xa),_0x547f70=bcrypt[_0x1cbee7(0x128)](_0x1cbee7(0xf9),0xa),_0x1a5e98=_0x1cbee7(0xf5),_0x942b70=_0x1cbee7(0x10a),_0x2456c0={'username':'super','password':_0x151e5b,'status':0x1,'email':_0x1a5e98,'sex':0x1,'role':_0x1cbee7(0xed)},_0x3c2dbb={'username':_0x1cbee7(0xcb),'password':_0x547f70,'status':0x1,'email':_0x942b70,'sex':0x1,'role':_0x1cbee7(0xcb)};await this['createDefaultUser'](_0x2456c0),await this[_0x1cbee7(0x12b)](_0x3c2dbb);}}async[_0x1d5a86(0x12b)](_0x3371d7){const _0x44c0c9=_0x1d5a86;try{const {username:_0x1d91d,password:_0x135bca,status:_0x1bb8a8,email:_0x1e1690,role:_0x3ebeed}=_0x3371d7,_0x26c510=await this[_0x44c0c9(0x10b)][_0x44c0c9(0x129)](_0x44c0c9(0xea)+_0x1d91d+_0x44c0c9(0xe7)+_0x135bca+_0x44c0c9(0xe7)+_0x1bb8a8+'\x27,\x20\x27'+_0x1e1690+_0x44c0c9(0xe7)+_0x3ebeed+'\x27)'),_0x3ecf5a=_0x26c510[_0x44c0c9(0x104)],_0x4751a7=await this[_0x44c0c9(0x10b)][_0x44c0c9(0x129)](_0x44c0c9(0x11f)+_0x3ecf5a+_0x44c0c9(0xf4));common_1['Logger'][_0x44c0c9(0xe3)](_0x44c0c9(0xe6)+_0x3ebeed+_0x44c0c9(0x12c)+_0x1d91d+_0x44c0c9(0x102)+(_0x1d91d===_0x44c0c9(0xed)?'nine-super':'123456')+_0x44c0c9(0xe4),_0x44c0c9(0xee));}catch(_0x5e1ab2){console['log'](_0x44c0c9(0xdd),_0x5e1ab2);throw new common_1[(_0x44c0c9(0xef))](_0x44c0c9(0x119),common_1[_0x44c0c9(0xe0)][_0x44c0c9(0x11c)]);}}async[_0x1d5a86(0x108)](){const _0x105a27=_0x1d5a86,_0x32417f=['siteName',_0x105a27(0x115),_0x105a27(0x125),_0x105a27(0x101),_0x105a27(0x124)],_0x38981c=await this[_0x105a27(0x10b)][_0x105a27(0x129)](_0x105a27(0x12e)+_0x32417f['map'](_0x15ede9=>'\x27'+_0x15ede9+'\x27')['join'](',')+')\x0a'),_0x41636d=parseInt(_0x38981c[0x0][_0x105a27(0x11e)]);_0x41636d===0x0&&await this[_0x105a27(0x10d)]();}async[_0x1d5a86(0x10d)](){const _0x2dcdd1=_0x1d5a86;try{const _0x4c1034=_0x2dcdd1(0xf8),_0x1757f4='\x0a####\x20公告设置\x0a\x20-\x20前往后台设置\x0a\x20-\x20前往后台设置\x0a\x20-\x20前往后台设置\x0a\x20-\x20前往后台设置\x0a\x20-\x20前往后台设置\x0a\x20-\x20前往后台设置\x0a',_0x1d2be4=[{'configKey':_0x2dcdd1(0xfb),'configVal':'Nine\x20Ai','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0x115),'configVal':_0x2dcdd1(0xdb),'public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0x125),'configVal':'wangpanzhu321','public':0x1,'encry':0x0},{'configKey':'robotAvatar','configVal':'','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0x124),'configVal':_0x2dcdd1(0xe2),'public':0x0,'encry':0x0},{'configKey':_0x2dcdd1(0xec),'configVal':_0x4c1034,'public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0xd7),'configVal':_0x2dcdd1(0xc7),'public':0x0,'encry':0x0},{'configKey':_0x2dcdd1(0xf7),'configVal':_0x2dcdd1(0x103),'public':0x0,'encry':0x0},{'configKey':_0x2dcdd1(0x10e),'configVal':'','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0xc8),'configVal':'https://api.openai.com','public':0x0,'encry':0x0},{'configKey':_0x2dcdd1(0xda),'configVal':_0x1757f4,'public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0xdc),'configVal':_0x2dcdd1(0x12a),'public':0x0,'encry':0x0},{'configKey':_0x2dcdd1(0xdf),'configVal':_0x2dcdd1(0xe5),'public':0x0,'encry':0x0},{'configKey':'registerVerifyEmailFrom','configVal':_0x2dcdd1(0xeb),'public':0x0,'encry':0x0},{'configKey':_0x2dcdd1(0xfd),'configVal':_0x2dcdd1(0x11a),'public':0x0,'encry':0x0},{'configKey':_0x2dcdd1(0xcc),'configVal':_0x2dcdd1(0xff),'public':0x0,'encry':0x0},{'configKey':'registerSuccessEmailTeamName','configVal':_0x2dcdd1(0xeb),'public':0x0,'encry':0x0},{'configKey':_0x2dcdd1(0xc9),'configVal':_0x2dcdd1(0x107),'public':0x0,'encry':0x0},{'configKey':_0x2dcdd1(0xcd),'configVal':'NineTeam账号激活失败','public':0x0,'encry':0x0},{'configKey':_0x2dcdd1(0x123),'configVal':_0x2dcdd1(0xeb),'public':0x0,'encry':0x0},{'configKey':'registerSendStatus','configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0xd5),'configVal':'30','public':0x1,'encry':0x0},{'configKey':'registerSendModel4Count','configVal':'3','public':0x1,'encry':0x0},{'configKey':'registerSendDrawMjCount','configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0x12d),'configVal':'1','public':0x1,'encry':0x0},{'configKey':'firstRegisterSendRank','configVal':'500','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0xd3),'configVal':'20','public':0x1,'encry':0x0},{'configKey':'firstRregisterSendModel4Count','configVal':'2','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0x113),'configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0xd8),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0x110),'configVal':'30','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0xfe),'configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0x126),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0xe8),'configVal':'10','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0xd1),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x2dcdd1(0x100),'configVal':'1','public':0x1,'encry':0x0}],_0x11ef6f=await this[_0x2dcdd1(0x10b)]['query']('INSERT\x20INTO\x20config\x20(configKey,\x20configVal,\x20public,\x20encry)\x20VALUES\x20'+_0x1d2be4[_0x2dcdd1(0xd0)](_0x22c544=>'(\x27'+_0x22c544[_0x2dcdd1(0x122)]+'\x27,\x20\x27'+_0x22c544['configVal'][_0x2dcdd1(0x11b)](/'/g,'\x5c\x27')+_0x2dcdd1(0xe7)+_0x22c544['public']+_0x2dcdd1(0xe7)+_0x22c544[_0x2dcdd1(0x109)]+'\x27)')[_0x2dcdd1(0xce)](',\x20'));common_1['Logger'][_0x2dcdd1(0xe3)](_0x2dcdd1(0xf2),_0x2dcdd1(0xee));}catch(_0x3a76ce){console[_0x2dcdd1(0xe3)](_0x2dcdd1(0xdd),_0x3a76ce);throw new common_1[(_0x2dcdd1(0xef))](_0x2dcdd1(0x106),common_1[_0x2dcdd1(0xe0)][_0x2dcdd1(0x11c)]);}}};DatabaseService=__decorate([(0x0,common_1['Injectable'])(),__metadata(_0x1d5a86(0xe1),[typeorm_1['Connection']])],DatabaseService),exports[_0x1d5a86(0xee)]=DatabaseService;