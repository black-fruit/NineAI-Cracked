'use strict';function _0x5940(_0x4f89a8,_0x348ffd){const _0x52498e=_0x5249();return _0x5940=function(_0x5940b7,_0x5eaab1){_0x5940b7=_0x5940b7-0x18f;let _0x360527=_0x52498e[_0x5940b7];return _0x360527;},_0x5940(_0x4f89a8,_0x348ffd);}const _0x273f2f=_0x5940;(function(_0x49bef2,_0x1e1578){const _0x56ed9e=_0x5940,_0x249b18=_0x49bef2();while(!![]){try{const _0x138d49=-parseInt(_0x56ed9e(0x235))/0x1*(-parseInt(_0x56ed9e(0x240))/0x2)+-parseInt(_0x56ed9e(0x18f))/0x3*(parseInt(_0x56ed9e(0x208))/0x4)+parseInt(_0x56ed9e(0x23e))/0x5+parseInt(_0x56ed9e(0x220))/0x6+parseInt(_0x56ed9e(0x1d8))/0x7+parseInt(_0x56ed9e(0x1dc))/0x8+-parseInt(_0x56ed9e(0x1c2))/0x9;if(_0x138d49===_0x1e1578)break;else _0x249b18['push'](_0x249b18['shift']());}catch(_0x1a2125){_0x249b18['push'](_0x249b18['shift']());}}}(_0x5249,0xbcdf9));function _0x5249(){const _0x1de991=['hupi','noticeTitle','siteRobotName','defineProperty','支付功能暂未开放!','mjProxy','wechatOfficialAppSecret','typeorm','clientMenuList','domain','data','../../common/utils','hideString','object','getPhoneVerifyConfig','fetchJsapiTicket','mindDefaultData','isAutoOpenNotice','https://cracked.oracle-bone.com/nineai.php','noticeInfo','授权检测完成、感谢您使用NineAi！','Logger','configs','configKey','queryPayType','qqNumber','__param','filter','error_description','请输入正确的公告id','NINE_AI_HOST','OfficialService','clientHomePath','当前为测试环境、不开启微信自动刷新、请获取一个token在此处直接返回！','InjectRepository','GlobalConfigService','stringify','emailRegisterStatus','createOrUpdate','onModuleInit','84flsONo','wechatSilentLoginStatus','inviteSendStatus','user','getOwnPropertyDescriptor','nineAiToken','chatGptKey:','robotAvatar','firstRregisterSendModel3Count','clientFavoIconPath','reduce','inviteGiveSendDrawMjCount','签到功能暂未开放!','payEpayApiPayUrl','getAuthInfo','cos','phoneRegisterStatus','registerSendStatus','设置配置信息错误！','wechatAccessToken','请配置正确的秘钥、当前秘钥检测不通过！','default','log','NineAi\x20授权认证','8613240HGouFd','ali','POST','error','payHupiStatus','salesAllowDrawMoney','\x0a\x20\x20\x20\x20\x20\x20您还未按要求填写正确的授权信息、请确认您已经填写、否则会带来未知错误！\x0a\x20\x20\x20\x20\x20\x20您还未按要求填写正确的授权信息、请确认您已经填写、否则会带来未知错误！\x0a\x20\x20\x20\x20\x20\x20您还未按要求填写正确的授权信息、请确认您已经填写、否则会带来未知错误！\x0a\x20\x20\x20\x20\x20\x20您还未按要求填写正确的授权信息、请确认您已经填写、否则会带来未知错误！\x0a\x20\x20\x20\x20\x20\x20您还未按要求填写正确的授权信息、请确认您已经填写、否则会带来未知错误！\x0a\x20\x20\x20\x20\x20\x20','metadata','initBaiduSensitive','super','length','ticket','NAMESPACE','isShowAppCatIcon','mpay','count','save','获取微信access_token失败、错误信息：','siteName','隐私内容、非超级管理员无权查看','ISDEV','37337yigrro','firstRregisterSendModel4Count','HttpStatus','queryAllConfig','getSignatureGiftConfig','Injectable','map','post','payWeChatPublicKey','7435515oXCxRM','decorate','66zkKFYL','BAD_REQUEST','registerSendModel4Count','@nestjs/common','vxNumber','HttpException','clientLogoPath','10671wDODrc','&client_secret=','payEpayChannel','百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!','openaiBaseUrl','getConfigs','wechat','@nestjs/typeorm','payMpayStatus','json','update','invitedGuestSendDrawMjCount','nineAiCheckAuth','companyName','payWechatStatus','configVal','https://aip.baidubce.com/oauth/2.0/token?client_id=','百度敏感词配置检测失败，您的参数可能配置的不正确!','queryFrontConfig','设置完成！','触发手动刷新微信\x20access_token','registerSendModel3Count','firstRregisterSendDrawMjCount','&secret=','NINE_AI_KEY','wechatOfficialAppId','filingNumber','exit','signInModel3Count','NINEAI','initGetAllConfig','axios','registerSendDrawMjCount','AUTH授权检测通过、祝您使用愉快！','signInStatus','globalConfigs','inviteGiveSendModel4Count','tencent','wechat\x20refresh\x20access_token\x20\x20==>\x20','includes','nineaiauthopen','entries','find','payMpayChannel','env','design:paramtypes','get','TRUE','https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=','signInModel4Count','getDiffArray','43346322XuyJfU','phoneRegisterStatus:\x20','payEpayStatus','https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=','function','registerBaseUrl','notice','getNineAiToken','salesBaseRatio','signInMjDrawToken','nineaiauthclose','getWechatAccessToken','application/json','salesSeniorRatio','./config.entity','chatGptKey','assign','payWeChatPrivateKey','configEntity','MjdrawCount','手机验证码功能暂未开放!','aliPhoneAccessKeySecret','5870830cxrwDO','forEach','wechatJsapiTicket','Like','5369008xuENLh','getNamespace','ConfigEntity','baiduTextApiKey'];_0x5249=function(){return _0x1de991;};return _0x5249();}var __decorate=this&&this['__decorate']||function(_0x3ed721,_0x5425c8,_0x2726ec,_0x171c8b){const _0x3eea6b=_0x5940;var _0x1aeae9=arguments[_0x3eea6b(0x22a)],_0x3c1a23=_0x1aeae9<0x3?_0x5425c8:_0x171c8b===null?_0x171c8b=Object[_0x3eea6b(0x20c)](_0x5425c8,_0x2726ec):_0x171c8b,_0x450383;if(typeof Reflect===_0x3eea6b(0x1ed)&&typeof Reflect[_0x3eea6b(0x23f)]===_0x3eea6b(0x1c6))_0x3c1a23=Reflect[_0x3eea6b(0x23f)](_0x3ed721,_0x5425c8,_0x2726ec,_0x171c8b);else{for(var _0x132a4=_0x3ed721['length']-0x1;_0x132a4>=0x0;_0x132a4--)if(_0x450383=_0x3ed721[_0x132a4])_0x3c1a23=(_0x1aeae9<0x3?_0x450383(_0x3c1a23):_0x1aeae9>0x3?_0x450383(_0x5425c8,_0x2726ec,_0x3c1a23):_0x450383(_0x5425c8,_0x2726ec))||_0x3c1a23;}return _0x1aeae9>0x3&&_0x3c1a23&&Object[_0x3eea6b(0x1e3)](_0x5425c8,_0x2726ec,_0x3c1a23),_0x3c1a23;},__metadata=this&&this['__metadata']||function(_0x22392c,_0x3fc32b){const _0x582a41=_0x5940;if(typeof Reflect===_0x582a41(0x1ed)&&typeof Reflect[_0x582a41(0x227)]===_0x582a41(0x1c6))return Reflect['metadata'](_0x22392c,_0x3fc32b);},__param=this&&this[_0x273f2f(0x1fa)]||function(_0x4930b7,_0x533800){return function(_0x14ca2c,_0x1e63af){_0x533800(_0x14ca2c,_0x1e63af,_0x4930b7);};};Object[_0x273f2f(0x1e3)](exports,'__esModule',{'value':!![]}),exports[_0x273f2f(0x203)]=void 0x0;const common_1=require(_0x273f2f(0x243)),config_entity_1=require(_0x273f2f(0x1d0)),typeorm_1=require(_0x273f2f(0x196)),typeorm_2=require(_0x273f2f(0x1e7)),utils_1=require(_0x273f2f(0x1eb)),axios_1=require(_0x273f2f(0x1ae));let GlobalConfigService=class GlobalConfigService{constructor(_0x368752){const _0x5c154f=_0x273f2f;this['configEntity']=_0x368752,this[_0x5c154f(0x1b2)]={},this[_0x5c154f(0x20d)]=!![],this['count']=0x0;}async[_0x273f2f(0x207)](){const _0x2276b2=_0x273f2f;await this[_0x2276b2(0x1ad)](),await this[_0x2276b2(0x19b)]();}async[_0x273f2f(0x194)](_0x2ff035){const _0x4838ac=_0x273f2f;if(_0x2ff035['length']===0x0)return;if(_0x2ff035['includes'](_0x4838ac(0x21b))&&_0x2ff035[_0x4838ac(0x22a)]===0x1)return this[_0x4838ac(0x21b)];if(_0x2ff035[_0x4838ac(0x1b6)]('wechatJsapiTicket')&&_0x2ff035[_0x4838ac(0x22a)]===0x1)return this[_0x4838ac(0x1da)];if(_0x2ff035[_0x4838ac(0x22a)]===0x1)return this[_0x4838ac(0x1b2)][_0x2ff035[0x0]];else{const _0x50037b={};return _0x2ff035['forEach'](_0x2f4b3c=>_0x50037b[_0x2f4b3c]=this[_0x4838ac(0x1b2)][_0x2f4b3c]),_0x50037b;}}async[_0x273f2f(0x1ad)](){const _0x4d15e5=_0x273f2f,_0x35f00b=await this[_0x4d15e5(0x1d4)]['find']();this[_0x4d15e5(0x1b2)]=_0x35f00b[_0x4d15e5(0x212)]((_0x2979ba,_0x400b8a)=>{const _0x7735=_0x4d15e5;return _0x2979ba[_0x400b8a[_0x7735(0x1f7)]]=_0x400b8a[_0x7735(0x19e)],_0x2979ba;},{}),this[_0x4d15e5(0x228)]();}async[_0x273f2f(0x228)](_0x1abe5e=!![]){const _0x117051=_0x273f2f,{baiduTextApiKey:_0x482e2b,baiduTextSecretKey:_0x4616be}=await this['getConfigs']([_0x117051(0x1df),'baiduTextSecretKey']);if(!_0x482e2b||!_0x4616be){common_1[_0x117051(0x1f5)][_0x117051(0x223)](_0x117051(0x192),'GlobalConfigService');return;}const _0x2dfc7c={'Content-Type':_0x117051(0x1ce),'Accept':_0x117051(0x1ce)},_0x458df0=_0x117051(0x19f)+_0x482e2b+_0x117051(0x190)+_0x4616be+'&grant_type=client_credentials';try{const _0xb40581=await axios_1[_0x117051(0x21d)][_0x117051(0x23c)](_0x458df0,{'headers':_0x2dfc7c});this[_0x117051(0x1b2)]['baiduTextAccessToken']=_0xb40581[_0x117051(0x1ea)]['access_token'];}catch(_0x1ad204){if(_0x1abe5e)common_1['Logger']['error'](_0x117051(0x1a0),'GlobalConfigService');else throw new common_1[(_0x117051(0x245))](_0x1ad204['response'][_0x117051(0x1ea)][_0x117051(0x1fc)],common_1['HttpStatus']['BAD_REQUEST']);}}async[_0x273f2f(0x1cd)](_0x13e15f=![]){const _0x261839=_0x273f2f,{wechatOfficialAppId:_0x1d9d94,wechatOfficialAppSecret:_0x2c2dec}=await this[_0x261839(0x194)]([_0x261839(0x1a8),_0x261839(0x1e6)]);if(!_0x1d9d94||!_0x2c2dec)return common_1['Logger'][_0x261839(0x223)]('还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！',_0x261839(0x1ff));this['wechatAccessToken']=await this['fetchBaseAccessToken'](_0x1d9d94,_0x2c2dec,_0x13e15f),this['wechatJsapiTicket']=await this['fetchJsapiTicket'](this[_0x261839(0x21b)]),common_1['Logger'][_0x261839(0x21e)](_0x261839(0x1b5)+this[_0x261839(0x21b)],_0x261839(0x1ff));}async['fetchBaseAccessToken'](_0x42bf85,_0x50a94f,_0x457649=![]){const _0x5d0d8b=_0x273f2f;if(process[_0x5d0d8b(0x1bb)][_0x5d0d8b(0x234)]===_0x5d0d8b(0x1be)){this[_0x5d0d8b(0x21b)]='',common_1[_0x5d0d8b(0x1f5)][_0x5d0d8b(0x223)]('当前为测试环境、不开启微信自动刷新、请获取一个token在此处直接返回！',_0x5d0d8b(0x1ff));return;}const {data:{errmsg:_0x572d26,access_token:_0x1ed1af}}=await axios_1[_0x5d0d8b(0x21d)][_0x5d0d8b(0x1bd)](_0x5d0d8b(0x1bf)+_0x42bf85+_0x5d0d8b(0x1a6)+_0x50a94f);if(_0x572d26){if(_0x457649)common_1[_0x5d0d8b(0x1f5)][_0x5d0d8b(0x223)](_0x5d0d8b(0x231)+_0x572d26,_0x5d0d8b(0x1ff));else throw new common_1[(_0x5d0d8b(0x245))](_0x5d0d8b(0x21c),common_1[_0x5d0d8b(0x237)][_0x5d0d8b(0x241)]);return'';}return _0x1ed1af;}async[_0x273f2f(0x1ef)](_0x1eee81){const _0x44eda2=_0x273f2f;var _0x389433;if(process[_0x44eda2(0x1bb)]['ISDEV']===_0x44eda2(0x1be)){this[_0x44eda2(0x1da)]='',common_1[_0x44eda2(0x1f5)][_0x44eda2(0x223)](_0x44eda2(0x201),'OfficialService');return;}const _0x9c3f99=await axios_1['default'][_0x44eda2(0x1bd)](_0x44eda2(0x1c5)+_0x1eee81+'&type=jsapi');return(_0x389433=_0x9c3f99===null||_0x9c3f99===void 0x0?void 0x0:_0x9c3f99[_0x44eda2(0x1ea)])===null||_0x389433===void 0x0?void 0x0:_0x389433[_0x44eda2(0x22b)];}async[_0x273f2f(0x238)](_0x4d2c32){const {role:_0x26a71c}=_0x4d2c32['user'];return this['globalConfigs'];}async[_0x273f2f(0x1a1)](_0x13dcf2){const _0x11ba3b=_0x273f2f,_0x22ec05=['vxNumber',_0x11ba3b(0x219),_0x11ba3b(0x1a4),_0x11ba3b(0x242),_0x11ba3b(0x1af),'firstRegisterSendStatus','firstRegisterSendRank',_0x11ba3b(0x210),_0x11ba3b(0x236),_0x11ba3b(0x1a5),_0x11ba3b(0x20a),'inviteGiveSendModel3Count',_0x11ba3b(0x1b3),_0x11ba3b(0x213),'invitedGuestSendModel3Count','invitedGuestSendModel4Count',_0x11ba3b(0x19a),_0x11ba3b(0x1e8),_0x11ba3b(0x200),_0x11ba3b(0x246),_0x11ba3b(0x211),'isUseWxLogin','siteName',_0x11ba3b(0x20f),_0x11ba3b(0x1e2),'buyCramiAddress',_0x11ba3b(0x1f0),'baiduCode',_0x11ba3b(0x191),_0x11ba3b(0x1ba),_0x11ba3b(0x215),_0x11ba3b(0x1c4),_0x11ba3b(0x224),_0x11ba3b(0x19d),_0x11ba3b(0x197),_0x11ba3b(0x1f1),_0x11ba3b(0x22d),_0x11ba3b(0x1ca),_0x11ba3b(0x1cf),_0x11ba3b(0x225),_0x11ba3b(0x19c),_0x11ba3b(0x1a9),_0x11ba3b(0x218),_0x11ba3b(0x205),'wechatRegisterStatus',_0x11ba3b(0x209),'signInStatus','signInModel3Count',_0x11ba3b(0x1c0),'signInMjDrawToken'],_0x2d774e=await this[_0x11ba3b(0x1d4)][_0x11ba3b(0x1b9)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x22ec05)}}),{domain:_0x4e9c52}=_0x13dcf2,_0x4b1d06=this['globalConfigs'][_0x11ba3b(0x1e9)];_0x4b1d06!==_0x4e9c52&&(this[_0x11ba3b(0x206)]({'configKey':_0x11ba3b(0x1e9),'configVal':_0x4e9c52,'status':0x1}),await this[_0x11ba3b(0x1ad)]());const _0x2d5fb3=_0x2d774e['reduce']((_0x120539,_0x4db267)=>{const _0x3fa4b6=_0x11ba3b;return _0x120539[_0x4db267[_0x3fa4b6(0x1f7)]]=_0x4db267[_0x3fa4b6(0x19e)],_0x120539;},{}),{wechatOfficialAppId:_0x48b3a6,wechatOfficialAppSecret:_0x4ce828}=await this['getConfigs'](['wechatOfficialAppId',_0x11ba3b(0x1e6)]),_0x254d86=!!(_0x48b3a6&&_0x4ce828);return Object[_0x11ba3b(0x1d2)](Object[_0x11ba3b(0x1d2)]({},_0x2d5fb3),{'isUseWxLogin':_0x254d86});}async['queryGptKeys'](_0x223a37){const _0x183a7f=_0x273f2f,{role:_0x263d2a}=_0x223a37[_0x183a7f(0x20b)],_0x2ff5cb=await this[_0x183a7f(0x1d4)]['find']({'where':{'configKey':(0x0,typeorm_2['Like'])('%'+_0x183a7f(0x1d1)+'%')}});if(_0x263d2a==='super')return _0x2ff5cb;return _0x2ff5cb[_0x183a7f(0x23b)](_0xd1c8e5=>{const _0x5ef57d=_0x183a7f;return _0xd1c8e5[_0x5ef57d(0x19e)]=(0x0,utils_1['hideString'])(_0xd1c8e5[_0x5ef57d(0x19e)]),_0xd1c8e5;});}async['setGptKeys'](_0x4dc31b){const _0x4fabe4=_0x273f2f,_0x5a6a17=_0x4dc31b[_0x4fabe4(0x1f6)][_0x4fabe4(0x1fb)](_0x44106d=>_0x44106d['configVal']),_0x59624b=_0x5a6a17[_0x4fabe4(0x23b)](_0x1450ca=>_0x1450ca['configKey']);for(const [_0x5811c5,_0x365bd1]of _0x5a6a17[_0x4fabe4(0x1b8)]()){const {configKey:_0x2f31c4,configVal:_0x1fc70c,status:_0x377363}=_0x365bd1;await this[_0x4fabe4(0x206)]({'configKey':_0x4fabe4(0x20e)+(_0x5811c5+0x1),'configVal':_0x1fc70c,'status':_0x377363});}const _0x3359b9=await this['configEntity'][_0x4fabe4(0x1b9)]({'where':{'configKey':(0x0,typeorm_2[_0x4fabe4(0x1db)])('%'+_0x4fabe4(0x1d1)+'%')}}),_0x5844e2=_0x3359b9[_0x4fabe4(0x23b)](_0x4d50b5=>_0x4d50b5[_0x4fabe4(0x1f7)]);if(_0x5844e2[_0x4fabe4(0x22a)]>_0x59624b[_0x4fabe4(0x22a)]){const _0x3e9b54=(0x0,utils_1[_0x4fabe4(0x1c1)])(_0x5844e2[_0x4fabe4(0x22a)],_0x59624b['length'],_0x4fabe4(0x20e));for(const _0x1a6892 of _0x3e9b54){await this[_0x4fabe4(0x1d4)]['delete']({'configKey':_0x1a6892});}}return await this[_0x4fabe4(0x1ad)](),'操作完成！';}async['queryConfig'](_0x25ee0e,_0x4a4649){const _0x3f3ea5=_0x273f2f,{role:_0x64abf9}=_0x4a4649[_0x3f3ea5(0x20b)],{keys:_0x1d3b40}=_0x25ee0e,_0x481f75=await this[_0x3f3ea5(0x1d4)][_0x3f3ea5(0x1b9)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x1d3b40)}});return _0x64abf9!==_0x3f3ea5(0x229)&&_0x481f75[_0x3f3ea5(0x1d9)](_0x10fc28=>{const _0x51a4e4=_0x3f3ea5;if(_0x10fc28['configKey'][_0x51a4e4(0x1b6)]('mj')||_0x10fc28[_0x51a4e4(0x1f7)][_0x51a4e4(0x1b6)]('Key')||_0x10fc28[_0x51a4e4(0x1f7)][_0x51a4e4(0x1b6)]('gpt')||_0x10fc28[_0x51a4e4(0x1f7)][_0x51a4e4(0x1b6)](_0x51a4e4(0x217))||_0x10fc28[_0x51a4e4(0x1f7)]['includes']('baidu')||_0x10fc28[_0x51a4e4(0x1f7)]['includes'](_0x51a4e4(0x221))||_0x10fc28[_0x51a4e4(0x1f7)][_0x51a4e4(0x1b6)](_0x51a4e4(0x1b4))||_0x10fc28['configKey'][_0x51a4e4(0x1b6)]('pay')||_0x10fc28[_0x51a4e4(0x1f7)][_0x51a4e4(0x1b6)](_0x51a4e4(0x195))||_0x10fc28[_0x51a4e4(0x1f7)]===_0x51a4e4(0x193)){const _0x59311c=[_0x51a4e4(0x23d),_0x51a4e4(0x1d3)];if(_0x59311c[_0x51a4e4(0x1b6)](_0x10fc28[_0x51a4e4(0x1f7)]))return _0x10fc28[_0x51a4e4(0x19e)]=(0x0,utils_1[_0x51a4e4(0x1ec)])(_0x10fc28[_0x51a4e4(0x19e)],_0x51a4e4(0x233));const _0x496d84=[_0x51a4e4(0x1c4),_0x51a4e4(0x224),_0x51a4e4(0x1e5)];!_0x496d84[_0x51a4e4(0x1b6)](_0x10fc28[_0x51a4e4(0x1f7)])&&!_0x10fc28['configKey'][_0x51a4e4(0x1b6)]('Status')&&(_0x10fc28['configVal']=(0x0,utils_1['hideString'])(_0x10fc28[_0x51a4e4(0x19e)]));}}),_0x481f75[_0x3f3ea5(0x212)]((_0x4cef2c,_0x113bde)=>{const _0x7e61dd=_0x3f3ea5;return _0x4cef2c[_0x113bde[_0x7e61dd(0x1f7)]]=_0x113bde[_0x7e61dd(0x19e)],_0x4cef2c;},{});}async[_0x273f2f(0x1c8)](_0x53f6d7){const _0x243833=_0x273f2f;if(!_0x53f6d7)return;if(_0x53f6d7===_0x243833(0x1cc))this[_0x243833(0x20d)]=![],await this[_0x243833(0x206)]({'configKey':_0x243833(0x1d5),'configVal':0x1,'status':0x1}),await this[_0x243833(0x1ad)]();else{if(_0x53f6d7===_0x243833(0x1b7))this[_0x243833(0x20d)]=!![],await this[_0x243833(0x206)]({'configKey':_0x243833(0x1d5),'configVal':0x0,'status':0x1}),await this[_0x243833(0x1ad)]();else throw new common_1['HttpException'](_0x243833(0x1fd),common_1[_0x243833(0x237)][_0x243833(0x241)]);}}[_0x273f2f(0x1c9)](){const _0x3b2d59=_0x273f2f,_0x403314=this[_0x3b2d59(0x1b2)][_0x3b2d59(0x1d5)],_0x2a6a4d=this['nineAiToken'];return!_0x2a6a4d||Number(_0x403314)===0x1;}async['setConfig'](_0x16e030){const _0x1e9dd4=_0x273f2f,{settings:_0xac688b}=_0x16e030;for(const _0x26a70f of _0xac688b){await this['createOrUpdate'](_0x26a70f);}await this[_0x1e9dd4(0x1ad)]();const _0x277c35=_0xac688b['map'](_0x5e0e27=>_0x5e0e27[_0x1e9dd4(0x1f7)]);return(_0x277c35[_0x1e9dd4(0x1b6)](_0x1e9dd4(0x1df))||_0x277c35[_0x1e9dd4(0x1b6)]('baiduTextSecretKey'))&&await this[_0x1e9dd4(0x228)](![]),(_0x277c35['includes'](_0x1e9dd4(0x1a8))||_0x277c35[_0x1e9dd4(0x1b6)](_0x1e9dd4(0x1e6)))&&(await this[_0x1e9dd4(0x1cd)](),common_1[_0x1e9dd4(0x1f5)]['log'](_0x1e9dd4(0x1a3),_0x1e9dd4(0x1ff))),_0x1e9dd4(0x1a2);}async[_0x273f2f(0x206)](_0xb2bcc4){const _0x58fa6f=_0x273f2f;try{const {configKey:_0x5e0711,configVal:_0x38f236,status:status=0x1}=_0xb2bcc4,_0x188e54=await this[_0x58fa6f(0x1d4)]['findOne']({'where':{'configKey':_0x5e0711}});if(_0x188e54){const _0x3e086f=await this[_0x58fa6f(0x1d4)][_0x58fa6f(0x199)]({'configKey':_0x5e0711},{'configVal':_0x38f236,'status':status});}else{const _0x2e8fbe=await this[_0x58fa6f(0x1d4)][_0x58fa6f(0x230)]({'configKey':_0x5e0711,'configVal':_0x38f236,'status':status});}}catch(_0x45af9e){throw new common_1[(_0x58fa6f(0x245))](_0x58fa6f(0x21a),common_1[_0x58fa6f(0x237)][_0x58fa6f(0x241)]);}}async['queryNotice'](){const _0x226cf0=_0x273f2f;return await this[_0x226cf0(0x194)]([_0x226cf0(0x1f3),_0x226cf0(0x1e1)]);}async[_0x273f2f(0x1f8)](){const _0xe740c1=_0x273f2f,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this[_0xe740c1(0x194)]([_0xe740c1(0x224),_0xe740c1(0x1c4),_0xe740c1(0x197),_0xe740c1(0x19d)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus]['every'](_0x6c1fe1=>_0x6c1fe1===0x0))throw new common_1['HttpException'](_0xe740c1(0x1e4),common_1['HttpStatus']['BAD_REQUEST']);if(Number(payWechatStatus)===0x1)return _0xe740c1(0x195);if(Number(payEpayStatus)===0x1)return'epay';if(Number(payMpayStatus)===0x1)return _0xe740c1(0x22e);if(Number(payHupiStatus)===0x1)return _0xe740c1(0x1e0);}async[_0x273f2f(0x216)](){const _0x1a01ce=_0x273f2f,{siteName:_0x2ba281,qqNumber:_0x5f5816,vxNumber:_0x10d850,registerBaseUrl:_0x2e4d4a,domain:_0x4d82f5}=await this[_0x1a01ce(0x194)]([_0x1a01ce(0x232),_0x1a01ce(0x1f9),_0x1a01ce(0x244),_0x1a01ce(0x1c7),_0x1a01ce(0x1e9)]);return{'siteName':_0x2ba281,'qqNumber':_0x5f5816,'vxNumber':_0x10d850,'registerBaseUrl':_0x2e4d4a,'domain':_0x4d82f5};}async[_0x273f2f(0x1ee)](){const _0x29a374=_0x273f2f,{phoneRegisterStatus:_0x1223eb,aliPhoneAccessKeyId:_0x4bb994,aliPhoneAccessKeySecret:_0xac36c4,aliPhoneSignName:_0xd10c86,aliPhoneTemplateCode:_0x1faa29}=await this[_0x29a374(0x194)]([_0x29a374(0x218),'aliPhoneAccessKeyId',_0x29a374(0x1d7),'aliPhoneSignName','aliPhoneTemplateCode']);console[_0x29a374(0x21e)](_0x29a374(0x1c3),_0x1223eb);if(Number(_0x1223eb)!==0x1)throw new common_1[(_0x29a374(0x245))](_0x29a374(0x1d6),common_1[_0x29a374(0x237)][_0x29a374(0x241)]);return{'accessKeyId':_0x4bb994,'accessKeySecret':_0xac36c4,'SignName':_0xd10c86,'TemplateCode':_0x1faa29};}async['nineAiCheckAuth'](){const _0x2ecd08=_0x273f2f,_0x4b2a2d=process[_0x2ecd08(0x1bb)][_0x2ecd08(0x1fe)],_0x55d812=process['env'][_0x2ecd08(0x1a7)];if(!_0x4b2a2d||!_0x55d812){common_1[_0x2ecd08(0x1f5)][_0x2ecd08(0x223)](_0x2ecd08(0x226),_0x2ecd08(0x21f)),this['count']<=0x3&&setTimeout(()=>this['nineAiCheckAuth'](),0xa*0x3c*0x3e8),this[_0x2ecd08(0x22f)]++;this['count']>=0x3&&(this[_0x2ecd08(0x20d)]=![],await this[_0x2ecd08(0x206)]({'configKey':'MjdrawCount','configVal':0x1,'status':0x1}));return;}const _0x163365=await this[_0x2ecd08(0x216)](),_0x2fc629=Object[_0x2ecd08(0x1d2)]({'ip':_0x4b2a2d,'key':_0x55d812},_0x163365),_0x8dbe71={'method':_0x2ecd08(0x222),'headers':{'Content-Type':'application/json'},'body':JSON[_0x2ecd08(0x204)](_0x2fc629)};try{const _0x33fced=await fetch(_0x2ecd08(0x1f2),_0x8dbe71),_0x8114ad=await _0x33fced[_0x2ecd08(0x198)](),{success:success=!![],message:_0x20e3da}=_0x8114ad;if(success)common_1[_0x2ecd08(0x1f5)]['log'](_0x2ecd08(0x1b0),_0x2ecd08(0x21f)),await this[_0x2ecd08(0x206)]({'configKey':'MjdrawCount','configVal':0x0,'status':0x1}),await this[_0x2ecd08(0x1ad)]();else{common_1[_0x2ecd08(0x1f5)][_0x2ecd08(0x223)](_0x20e3da,_0x2ecd08(0x21f)),process[_0x2ecd08(0x1aa)](0x0);return;}}catch(_0x170db7){console['log']('error:\x20',_0x170db7),common_1[_0x2ecd08(0x1f5)]['error'](_0x2ecd08(0x1f4),_0x2ecd08(0x21f));}}[_0x273f2f(0x1dd)](){const _0x266e9b=_0x273f2f;return process[_0x266e9b(0x1bb)][_0x266e9b(0x22c)]||_0x266e9b(0x1ac);}async[_0x273f2f(0x239)](){const _0x4eddba=_0x273f2f,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0x4eddba(0x194)]([_0x4eddba(0x1b1),_0x4eddba(0x1ab),'signInModel4Count',_0x4eddba(0x1cb)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0x4eddba(0x245))](_0x4eddba(0x214),common_1[_0x4eddba(0x237)][_0x4eddba(0x241)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}};GlobalConfigService=__decorate([(0x0,common_1[_0x273f2f(0x23a)])(),__param(0x0,(0x0,typeorm_1[_0x273f2f(0x202)])(config_entity_1[_0x273f2f(0x1de)])),__metadata(_0x273f2f(0x1bc),[typeorm_2['Repository']])],GlobalConfigService),exports[_0x273f2f(0x203)]=GlobalConfigService;